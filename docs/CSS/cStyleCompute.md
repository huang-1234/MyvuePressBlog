##  样式计算

###  优先级别

- 使用`就近原则`
- `继承样式`的优先级别最低
- `!important样式`的优先级别最高，若冲突则重新计算

### 权重

- **10000**：`!important`
- **1000**：`内联样式`、`外联样式`
- **100**：`ID选择器`
- **10**：`类选择器`、`伪类选择器`、`属性选择器`
- **1**：`标签选择器`、`伪元素选择器`
- **0**：`通配选择器`、`后代选择器`、`兄弟选择器`

### 计算

#### 优先级别相同的规则使用最后出现的规则

```css
.input-box {
    color: #f66;
}
:focus {
    color: #66f;
}
[type=text] {
    color: #f90;
}
```

虽然`类选择器`、`伪类选择器`和`属性选择器`三者的优先级别相同，但最后出现的规则其优先级别最高，所以`<input>`最终会显示`#f90`。

#### 优先级别无视节点在DOM树中的距离

```css
html h1 {
    color: #f66;
}
body h1 {
    color: #66f;
}
```

虽然`<html>`包含着`<body>`，但依据就近原则，所以`<h1>`最终会显示`#66f`。

#### 不同规则作用于相同节点使用优先级别最高的规则

```css
#bruce {
    color: #f66;
}
[id=bruce] {
    color: #66f;
}
```

虽然两者规则都作用于ID为bruce的`<div>`，但`ID选择器`的优先级比`属性选择器`高，所以`<div>`最终会显示`#f66`。

#### :not()不参与优先级别的计算

`:not()`在优先级别计算中不会被看成`伪类`，但会把`:not()`里的选择器当作普通选择器计数。简单来说就是忽略`:not()`，其他伪类照常参与优先级别计算。

### 规则

- 规则的权值不同时，权值高的规则优先
- 规则的权值相同时，后定义的规则优先
- 属性后面追加`!important`时，规则无条件绝对优先

## 长度单位

|   单位   |    定义     |    类型    |                 描述                 |
| :------: | :---------: | :--------: | :----------------------------------: |
|  **px**  |    像素     | `绝对单位` |                  -                   |
|  **pt**  |     点      | `绝对单位` |            `1pt = 1/72in`            |
|  **pc**  |     派      | `绝对单位` |             `1pc = 12pt`             |
|  **mm**  |    毫米     | `绝对单位` |                  -                   |
|  **cm**  |    厘米     | `绝对单位` |                  -                   |
|  **in**  |    英寸     | `绝对单位` |        `1in = 96px = 2.54cm`         |
|  **%**   |   百分比    | `相对单位` | 相对父节点，宽度对应，高度不一定对应 |
|  **em**  |   M的宽度   | `相对单位` |           相对当前节点字体           |
| **rem**  |   M的宽度   | `相对单位` |            相对根结点字体            |
|  **ch**  |   0的宽度   | `相对单位` |           相对当前节点字体           |
|  **ex**  |   x的宽度   | `相对单位` |           相对当前节点字体           |
|  **vw**  | 1%视窗宽度  | `相对单位` |               相对视窗               |
|  **vh**  | 1%视窗高度  | `相对单位` |               相对视窗               |
| **vmin** | vw/vh最小者 | `相对单位` |               相对视窗               |
| **vmax** | vw/vh最大者 | `相对单位` |               相对视窗               |

### 屏幕分辨率

**屏幕分辨率**指横纵向上的像素点数，单位是`px`。`屏幕分辨率`确定计算机屏幕上能显示多少信息的，以水平和垂直像素衡量。屏幕尺寸一致的情况下，`屏幕分辨率`越低在屏幕上显示的像素就越少，单个像素尺寸也比较大，`屏幕分辨率`越高在屏幕上显示的像素越多，单个像素尺寸也比较小。

`屏幕分辨率`就是屏幕上显示的像素个数，分辨率`1920×1080`意味着水平方向含有`1920`个像素数，垂直方向含有`1080`个像素数。屏幕尺寸一致的情况下，`屏幕分辨率`越高，显示效果就越细腻。

#### em/rem区别

`em`和`rem`是移动端布局上常用的长度单位，两者的后缀都一致。`rem`全称是`root em`，意思是相对根节点作为参考的长度单位。

- **em**：当前节点字体宽度，准确来说是一个M的宽度
- **rem**：默认字体宽度，准确来说是一个M的宽度

两者区别在于：**em相对父节点，rem相对根节点**。`em`以当前节点字体宽度作为参考，`rem`以根节点`<html>`字体宽度作为参考，默认是`16px`。

#### 视窗比例单位

在CSS3中增加了与`viewport`相关的四个长度单位，随着时间推移，目前大部分浏览器对这四个长度单位都有比较好的兼容，这也是未来最建议在伸缩方案中使用的长度单位。

- `1vw`表示`1%`视窗宽度
- `1vh`表示`1%`视窗高度
- `1vmin`表示`1%`视窗宽度和`1%`视窗高度中最小者
- `1vmax`表示`1%`视窗宽度和`1%`视窗高度中最大者

视窗宽高在JS中分别对应`window.innerWidth`和`window.innerHeight`。

可以使用 calc 解决移动端的伸缩方案。

```css
html {
    font-size: calc(100vw / 7.5);
}
```