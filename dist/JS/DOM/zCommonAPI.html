<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM-API | hsq</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="往前端架构、向全栈开发">
    
    <link rel="preload" href="/assets/css/0.styles.dacf1844.css" as="style"><link rel="preload" href="/assets/js/app.53023ef6.js" as="script"><link rel="preload" href="/assets/js/2.4cb4eaec.js" as="script"><link rel="preload" href="/assets/js/96.aa0512c6.js" as="script"><link rel="prefetch" href="/assets/js/10.52218320.js"><link rel="prefetch" href="/assets/js/100.1ffd1ad7.js"><link rel="prefetch" href="/assets/js/101.9ff0e6cf.js"><link rel="prefetch" href="/assets/js/102.6d47a211.js"><link rel="prefetch" href="/assets/js/103.3979fca4.js"><link rel="prefetch" href="/assets/js/104.74629a22.js"><link rel="prefetch" href="/assets/js/105.b6deaede.js"><link rel="prefetch" href="/assets/js/106.ad4dcc75.js"><link rel="prefetch" href="/assets/js/107.2e9fcd7a.js"><link rel="prefetch" href="/assets/js/108.24b55f08.js"><link rel="prefetch" href="/assets/js/109.4a263401.js"><link rel="prefetch" href="/assets/js/11.f9f6346a.js"><link rel="prefetch" href="/assets/js/110.2389a315.js"><link rel="prefetch" href="/assets/js/111.7975070d.js"><link rel="prefetch" href="/assets/js/112.174d0744.js"><link rel="prefetch" href="/assets/js/113.3b155b99.js"><link rel="prefetch" href="/assets/js/114.391fa45e.js"><link rel="prefetch" href="/assets/js/115.55ac1f22.js"><link rel="prefetch" href="/assets/js/116.1e44004c.js"><link rel="prefetch" href="/assets/js/117.594722e2.js"><link rel="prefetch" href="/assets/js/118.e24f1c1f.js"><link rel="prefetch" href="/assets/js/119.36621108.js"><link rel="prefetch" href="/assets/js/12.ce2b6a64.js"><link rel="prefetch" href="/assets/js/120.bddf1771.js"><link rel="prefetch" href="/assets/js/121.924d2b2e.js"><link rel="prefetch" href="/assets/js/122.31c489f6.js"><link rel="prefetch" href="/assets/js/123.617a10cd.js"><link rel="prefetch" href="/assets/js/124.d9ca5e16.js"><link rel="prefetch" href="/assets/js/125.8dd7bc68.js"><link rel="prefetch" href="/assets/js/126.55b67d8f.js"><link rel="prefetch" href="/assets/js/127.329685b6.js"><link rel="prefetch" href="/assets/js/128.8aee0b4d.js"><link rel="prefetch" href="/assets/js/129.e7d8ee5e.js"><link rel="prefetch" href="/assets/js/13.b1290cbf.js"><link rel="prefetch" href="/assets/js/130.5461852c.js"><link rel="prefetch" href="/assets/js/131.08c8e981.js"><link rel="prefetch" href="/assets/js/132.28f44187.js"><link rel="prefetch" href="/assets/js/133.92f8af82.js"><link rel="prefetch" href="/assets/js/134.3d787d37.js"><link rel="prefetch" href="/assets/js/135.f68022a7.js"><link rel="prefetch" href="/assets/js/136.490efd79.js"><link rel="prefetch" href="/assets/js/137.ea9461c0.js"><link rel="prefetch" href="/assets/js/138.6d481d49.js"><link rel="prefetch" href="/assets/js/139.e7f3ec49.js"><link rel="prefetch" href="/assets/js/14.95cade65.js"><link rel="prefetch" href="/assets/js/140.27c2257c.js"><link rel="prefetch" href="/assets/js/141.e6bf88a6.js"><link rel="prefetch" href="/assets/js/142.659f9a32.js"><link rel="prefetch" href="/assets/js/143.bf813c37.js"><link rel="prefetch" href="/assets/js/144.c24b2f95.js"><link rel="prefetch" href="/assets/js/145.d873e243.js"><link rel="prefetch" href="/assets/js/146.cd91ac2e.js"><link rel="prefetch" href="/assets/js/147.81413758.js"><link rel="prefetch" href="/assets/js/148.88b0e9a9.js"><link rel="prefetch" href="/assets/js/149.ebc10a41.js"><link rel="prefetch" href="/assets/js/15.e362f506.js"><link rel="prefetch" href="/assets/js/150.57fb3470.js"><link rel="prefetch" href="/assets/js/151.4d276bf6.js"><link rel="prefetch" href="/assets/js/152.4c74ec7b.js"><link rel="prefetch" href="/assets/js/153.ee4601d0.js"><link rel="prefetch" href="/assets/js/154.18fe09c3.js"><link rel="prefetch" href="/assets/js/155.48dbc54f.js"><link rel="prefetch" href="/assets/js/156.221ef193.js"><link rel="prefetch" href="/assets/js/157.a7d1f4b1.js"><link rel="prefetch" href="/assets/js/158.38a27fc1.js"><link rel="prefetch" href="/assets/js/159.2adb6bd4.js"><link rel="prefetch" href="/assets/js/16.513e36b4.js"><link rel="prefetch" href="/assets/js/160.81f40188.js"><link rel="prefetch" href="/assets/js/161.6900b634.js"><link rel="prefetch" href="/assets/js/162.06613159.js"><link rel="prefetch" href="/assets/js/163.73c2807b.js"><link rel="prefetch" href="/assets/js/164.a24ccb86.js"><link rel="prefetch" href="/assets/js/165.5a23c4d3.js"><link rel="prefetch" href="/assets/js/166.6248624a.js"><link rel="prefetch" href="/assets/js/167.149fda79.js"><link rel="prefetch" href="/assets/js/168.83ff2301.js"><link rel="prefetch" href="/assets/js/169.91d7f82c.js"><link rel="prefetch" href="/assets/js/17.1be9f510.js"><link rel="prefetch" href="/assets/js/170.be5c98c2.js"><link rel="prefetch" href="/assets/js/171.1ac0f029.js"><link rel="prefetch" href="/assets/js/172.b8595a3b.js"><link rel="prefetch" href="/assets/js/173.8dcace55.js"><link rel="prefetch" href="/assets/js/174.8218092d.js"><link rel="prefetch" href="/assets/js/175.ad90d9e3.js"><link rel="prefetch" href="/assets/js/176.7b9adaf1.js"><link rel="prefetch" href="/assets/js/177.3d7f4803.js"><link rel="prefetch" href="/assets/js/178.51d425d2.js"><link rel="prefetch" href="/assets/js/179.c9373e2a.js"><link rel="prefetch" href="/assets/js/18.4c2d6988.js"><link rel="prefetch" href="/assets/js/180.f9e02ed6.js"><link rel="prefetch" href="/assets/js/181.e438424a.js"><link rel="prefetch" href="/assets/js/182.cd485fb9.js"><link rel="prefetch" href="/assets/js/183.dda8ca3c.js"><link rel="prefetch" href="/assets/js/184.eae61895.js"><link rel="prefetch" href="/assets/js/185.3c866158.js"><link rel="prefetch" href="/assets/js/186.07e1ca72.js"><link rel="prefetch" href="/assets/js/187.b6e24279.js"><link rel="prefetch" href="/assets/js/188.348bd237.js"><link rel="prefetch" href="/assets/js/189.9341e965.js"><link rel="prefetch" href="/assets/js/19.29455e1d.js"><link rel="prefetch" href="/assets/js/190.ae4b4f5a.js"><link rel="prefetch" href="/assets/js/191.9e6b119e.js"><link rel="prefetch" href="/assets/js/192.b8d837db.js"><link rel="prefetch" href="/assets/js/193.4bb0eec4.js"><link rel="prefetch" href="/assets/js/194.5efa25bd.js"><link rel="prefetch" href="/assets/js/195.bcfe6d95.js"><link rel="prefetch" href="/assets/js/196.da4a5fd1.js"><link rel="prefetch" href="/assets/js/197.eadde6f5.js"><link rel="prefetch" href="/assets/js/198.a64c6627.js"><link rel="prefetch" href="/assets/js/199.6fe37986.js"><link rel="prefetch" href="/assets/js/20.73b229d2.js"><link rel="prefetch" href="/assets/js/200.dc6e2a0b.js"><link rel="prefetch" href="/assets/js/201.b6922fe6.js"><link rel="prefetch" href="/assets/js/202.88eb15d8.js"><link rel="prefetch" href="/assets/js/203.227649e3.js"><link rel="prefetch" href="/assets/js/204.18f9c2a7.js"><link rel="prefetch" href="/assets/js/205.12f7f020.js"><link rel="prefetch" href="/assets/js/206.8a54c464.js"><link rel="prefetch" href="/assets/js/207.de055018.js"><link rel="prefetch" href="/assets/js/208.cafe937f.js"><link rel="prefetch" href="/assets/js/209.a131eeaa.js"><link rel="prefetch" href="/assets/js/21.31467c94.js"><link rel="prefetch" href="/assets/js/210.e3fba502.js"><link rel="prefetch" href="/assets/js/211.8766c541.js"><link rel="prefetch" href="/assets/js/212.31cc672e.js"><link rel="prefetch" href="/assets/js/213.1512ae2f.js"><link rel="prefetch" href="/assets/js/214.b064f943.js"><link rel="prefetch" href="/assets/js/215.3000f2c8.js"><link rel="prefetch" href="/assets/js/216.470f220f.js"><link rel="prefetch" href="/assets/js/217.616a2597.js"><link rel="prefetch" href="/assets/js/218.64c3f723.js"><link rel="prefetch" href="/assets/js/219.94d5787c.js"><link rel="prefetch" href="/assets/js/22.8fd1d6d2.js"><link rel="prefetch" href="/assets/js/23.4c48851d.js"><link rel="prefetch" href="/assets/js/24.09cdd0cd.js"><link rel="prefetch" href="/assets/js/25.979b09a5.js"><link rel="prefetch" href="/assets/js/26.c1a94ab1.js"><link rel="prefetch" href="/assets/js/27.a69fb0a6.js"><link rel="prefetch" href="/assets/js/28.7c03490a.js"><link rel="prefetch" href="/assets/js/29.6273dcaa.js"><link rel="prefetch" href="/assets/js/3.e5b66744.js"><link rel="prefetch" href="/assets/js/30.83aace73.js"><link rel="prefetch" href="/assets/js/31.d17cae94.js"><link rel="prefetch" href="/assets/js/32.6b1336bf.js"><link rel="prefetch" href="/assets/js/33.abfa11cc.js"><link rel="prefetch" href="/assets/js/34.e71035d1.js"><link rel="prefetch" href="/assets/js/35.85ed3349.js"><link rel="prefetch" href="/assets/js/36.215f8886.js"><link rel="prefetch" href="/assets/js/37.8d4ce16b.js"><link rel="prefetch" href="/assets/js/38.3ae50c1d.js"><link rel="prefetch" href="/assets/js/39.c822e19e.js"><link rel="prefetch" href="/assets/js/4.9401f5f2.js"><link rel="prefetch" href="/assets/js/40.c9a47d12.js"><link rel="prefetch" href="/assets/js/41.9f7a2c73.js"><link rel="prefetch" href="/assets/js/42.88cd8c46.js"><link rel="prefetch" href="/assets/js/43.dcb4e0f8.js"><link rel="prefetch" href="/assets/js/44.0d77dfa8.js"><link rel="prefetch" href="/assets/js/45.839c2f32.js"><link rel="prefetch" href="/assets/js/46.ea02cd52.js"><link rel="prefetch" href="/assets/js/47.3c59a4df.js"><link rel="prefetch" href="/assets/js/48.a2aac7b0.js"><link rel="prefetch" href="/assets/js/49.77f0c049.js"><link rel="prefetch" href="/assets/js/5.b8fa1d9c.js"><link rel="prefetch" href="/assets/js/50.47255aad.js"><link rel="prefetch" href="/assets/js/51.67dec001.js"><link rel="prefetch" href="/assets/js/52.5e8b5978.js"><link rel="prefetch" href="/assets/js/53.b984809b.js"><link rel="prefetch" href="/assets/js/54.2a14ec92.js"><link rel="prefetch" href="/assets/js/55.1be47056.js"><link rel="prefetch" href="/assets/js/56.29a83252.js"><link rel="prefetch" href="/assets/js/57.8f59378e.js"><link rel="prefetch" href="/assets/js/58.e55e87a5.js"><link rel="prefetch" href="/assets/js/59.1c66f9d7.js"><link rel="prefetch" href="/assets/js/6.596b8f72.js"><link rel="prefetch" href="/assets/js/60.02f36a13.js"><link rel="prefetch" href="/assets/js/61.e0c8a27f.js"><link rel="prefetch" href="/assets/js/62.c0989d73.js"><link rel="prefetch" href="/assets/js/63.bfe329b3.js"><link rel="prefetch" href="/assets/js/64.6a21f133.js"><link rel="prefetch" href="/assets/js/65.7984ef36.js"><link rel="prefetch" href="/assets/js/66.99c12be8.js"><link rel="prefetch" href="/assets/js/67.d34c316e.js"><link rel="prefetch" href="/assets/js/68.969415c3.js"><link rel="prefetch" href="/assets/js/69.90ae6d53.js"><link rel="prefetch" href="/assets/js/7.c4d3cd2e.js"><link rel="prefetch" href="/assets/js/70.f31d98d0.js"><link rel="prefetch" href="/assets/js/71.6f9854ee.js"><link rel="prefetch" href="/assets/js/72.21d477d0.js"><link rel="prefetch" href="/assets/js/73.453941ba.js"><link rel="prefetch" href="/assets/js/74.98ce95b0.js"><link rel="prefetch" href="/assets/js/75.25b252d1.js"><link rel="prefetch" href="/assets/js/76.60c29f09.js"><link rel="prefetch" href="/assets/js/77.bd2eb580.js"><link rel="prefetch" href="/assets/js/78.6f4b38b0.js"><link rel="prefetch" href="/assets/js/79.a1a51a92.js"><link rel="prefetch" href="/assets/js/8.61ca8ac0.js"><link rel="prefetch" href="/assets/js/80.e49b2830.js"><link rel="prefetch" href="/assets/js/81.62d31302.js"><link rel="prefetch" href="/assets/js/82.41922cfc.js"><link rel="prefetch" href="/assets/js/83.9e898768.js"><link rel="prefetch" href="/assets/js/84.129790a3.js"><link rel="prefetch" href="/assets/js/85.64d3c3aa.js"><link rel="prefetch" href="/assets/js/86.bbae4684.js"><link rel="prefetch" href="/assets/js/87.5534e9c5.js"><link rel="prefetch" href="/assets/js/88.ed3f20d2.js"><link rel="prefetch" href="/assets/js/89.717d3bd2.js"><link rel="prefetch" href="/assets/js/9.9ed1cfbe.js"><link rel="prefetch" href="/assets/js/90.0518470f.js"><link rel="prefetch" href="/assets/js/91.783fe5fe.js"><link rel="prefetch" href="/assets/js/92.8cc42bc8.js"><link rel="prefetch" href="/assets/js/93.e8122470.js"><link rel="prefetch" href="/assets/js/94.612f59ae.js"><link rel="prefetch" href="/assets/js/95.82736504.js"><link rel="prefetch" href="/assets/js/97.6f3f6a02.js"><link rel="prefetch" href="/assets/js/98.09f997b3.js"><link rel="prefetch" href="/assets/js/99.c5e84506.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dacf1844.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">hsq</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Styles/" class="nav-link">
  Styles
</a></li><li class="dropdown-item"><h4>
          Browser
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BrowserModel/" class="nav-link">
  BrModel(MP)
</a></li><li class="dropdown-subitem"><a href="/Browser/" class="nav-link">
  RenderPr(MT)
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link">
  ReactBase
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/" class="nav-link">
  VueBase
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Nodejs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Node/" class="nav-link">
  NodeBase
</a></li></ul></li><li class="dropdown-item"><h4>
          cPlus
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Cplus/" class="nav-link">
  C++
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">AI</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AlgorithmAI/" class="nav-link">
  AI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/" class="nav-link">
  项目
</a></li><li class="dropdown-item"><h4>
          项目工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Tools/" class="nav-link">
  Git&amp;webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">Works</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">Works</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Interface/" class="nav-link">
  面经
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Styles/" class="nav-link">
  Styles
</a></li><li class="dropdown-item"><h4>
          Browser
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/BrowserModel/" class="nav-link">
  BrModel(MP)
</a></li><li class="dropdown-subitem"><a href="/Browser/" class="nav-link">
  RenderPr(MT)
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/React/" class="nav-link">
  ReactBase
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Vue/" class="nav-link">
  VueBase
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Nodejs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Node/" class="nav-link">
  NodeBase
</a></li></ul></li><li class="dropdown-item"><h4>
          cPlus
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Cplus/" class="nav-link">
  C++
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">AI</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">AI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AlgorithmAI/" class="nav-link">
  AI
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/" class="nav-link">
  项目
</a></li><li class="dropdown-item"><h4>
          项目工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Tools/" class="nav-link">
  Git&amp;webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="webDesign" class="dropdown-title"><span class="title">Works</span> <span class="arrow down"></span></button> <button type="button" aria-label="webDesign" class="mobile-dropdown-title"><span class="title">Works</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Interface/" class="nav-link">
  面经
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>DOM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JS/DOM/Document.html" class="sidebar-link">Document 对象</a></li><li><a href="/JS/DOM/Element.html" class="sidebar-link">Element 对象</a></li><li><a href="/JS/DOM/Attribute.html" class="sidebar-link">Attribute 对象</a></li><li><a href="/JS/DOM/Event.html" class="sidebar-link">Event 对象</a></li><li><a href="/JS/DOM/zCommonAPI.html" aria-current="page" class="active sidebar-link">DOM-API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#操作dom常用api总结" class="sidebar-link">操作DOM常用API总结</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#基本概念" class="sidebar-link">基本概念</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#element类型" class="sidebar-link">Element类型</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#text类型" class="sidebar-link">Text类型</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#attr类型" class="sidebar-link">Attr类型</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#comment类型注释node" class="sidebar-link">Comment类型注释node</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document" class="sidebar-link">Document</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#documentfragment类型" class="sidebar-link">DocumentFragment类型</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#节点创建型api" class="sidebar-link">节点创建型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#createelement" class="sidebar-link">createElement</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#createtextnode" class="sidebar-link">createTextNode</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#clonenode" class="sidebar-link">cloneNode</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#createdocumentfragment" class="sidebar-link">createDocumentFragment</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#创建型api总结" class="sidebar-link">创建型API总结</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#页面修改型api" class="sidebar-link">页面修改型API</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#appendchild" class="sidebar-link">appendChild</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#insertbefore" class="sidebar-link">insertBefore</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#removechild" class="sidebar-link">removeChild</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#replacechild" class="sidebar-link">replaceChild</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#页面修改型api总结" class="sidebar-link">页面修改型API总结</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#节点查询型api" class="sidebar-link">节点查询型API</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document-getelementbyid" class="sidebar-link">document.getElementById</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document-getelementsbytagname" class="sidebar-link">document.getElementsByTagName</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document-getelementsbyname" class="sidebar-link">document.getElementsByName</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document-getelementsbyclassname" class="sidebar-link">document.getElementsByClassName</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#document-queryselector和document-queryselectorall" class="sidebar-link">document.querySelector和document.querySelectorAll</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#节点关系型api" class="sidebar-link">节点关系型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#父关系型api" class="sidebar-link">父关系型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#兄弟关系型api" class="sidebar-link">兄弟关系型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#子关系型api" class="sidebar-link">子关系型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#元素属性型api" class="sidebar-link">元素属性型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#setattribute" class="sidebar-link">setAttribute</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#getattribute" class="sidebar-link">getAttribute</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#元素样式型api" class="sidebar-link">元素样式型api</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#window-getcomputedstyle" class="sidebar-link">window.getComputedStyle</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#getboundingclientrect" class="sidebar-link">getBoundingClientRect</a></li><li class="sidebar-sub-header"><a href="/JS/DOM/zCommonAPI.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/JS/DOM/operateDOM.html" class="sidebar-link">操作DOM的众说纷纭</a></li><li><a href="/JS/DOM/YouYuXi.html" class="sidebar-link">Youyuxi</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>BOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>npmYarn</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>V8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>selfFunc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom-api"><a href="#dom-api" class="header-anchor">#</a> DOM-API</h1> <h2 id="操作dom常用api总结"><a href="#操作dom常用api总结" class="header-anchor">#</a> 操作DOM常用API总结</h2> <blockquote><p>有待研究一番</p></blockquote> <p>文本整理了javascript操作DOM的一些常用的api，根据其作用整理成为创建，修改，查询等多种类型的api，主要用于复习基础知识，加深对原生js的认识。</p> <h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <p>在讲解操作DOM的api之前，首先我们来复习一下一些基本概念，这些概念是掌握api的关键，必须理解它们。</p> <p>Node类型</p> <p>DOM1级定义了一个Node接口，该接口由DOM中所有节点类型实现。这个Node接口在JS中是作为Node类型实现的。在IE9以下版本无法访问到这个类型，JS中所有节点都继承自Node类型，都共享着相同的基本属性和方法。</p> <p>Node有一个属性nodeType表示Node的类型，它是一个整数，其数值分别表示相应的Node类型，具体如下：</p> <div class="language-text extra-class"><pre class="language-text"><code>Node.ELEMENT_NODE:1
Node.ATTRIBUTE_NODE:2
Node.TEXT_NODE:3
Node.CDATA_SECTION_NODE:4
Node.ENTITY_REFERENCE_NODE:5
Node.ENTITY_NODE:6
Node.PROCESSING_INSTRUCTION_NODE:7
Node.COMMENT_NODE:8
Node.DOCUMENT_NODE:9
Node.DOCUMENT_TYPE_NODE:10
Node.DOCUMENT_FRAGMENT_NODE:11
Node.NOTATION_NODE:12
</code></pre></div><p>假设我们要判断一个Node是不是元素，我们可以这样判断</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Node is a element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这些Node类型中，我们最常用的就是element，text，attribute，comment，document，document_fragment这几种类型。
我们简单来介绍一下这几种类型：</p> <h2 id="element类型"><a href="#element类型" class="header-anchor">#</a> Element类型</h2> <p>Element提供了对元素标签名，子节点和特性的访问，我们常用HTML元素比如div，span，a等标签就是element中的一种。</p> <p>Element有下面几条特性：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType为1
（2）nodeName为元素标签名，tagName也是返回标签名
（3）nodeValue为null
（4）parentNode可能是Document或Element
（5）子节点可能是Element，Text，Comment，Processing_Instruction，CDATASection或EntityReference
</code></pre></div><h2 id="text类型"><a href="#text类型" class="header-anchor">#</a> Text类型</h2> <p>Text表示文本节点，它包含的是纯文本内容，不能包含html代码，但可以包含转义后的html代码。Text有下面的特性：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType为3
（2）nodeName为#text
（3）nodeValue为文本内容
（4）parentNode是一个Element
（5）没有子节点
</code></pre></div><h2 id="attr类型"><a href="#attr类型" class="header-anchor">#</a> Attr类型</h2> <p>Attr类型表示元素的特性，相当于元素的attributes属性中的节点，它有下面的特性：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType值为2
（2）nodeName是特性的名称
（3）nodeValue是特性的值
（4）parentNode为null
</code></pre></div><h2 id="comment类型注释node"><a href="#comment类型注释node" class="header-anchor">#</a> Comment类型注释node</h2> <p>Comment表示HTML文档中的注释，它有下面的几种特征：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType为8
（2）nodeName为#comment
（3）nodeValue为注释的内容
（4）parentNode可能是Document或Element
（5）没有子节点
</code></pre></div><h2 id="document"><a href="#document" class="header-anchor">#</a> Document</h2> <p>Document表示文档，在浏览器中，document对象是HTMLDocument的一个实例，表示整个页面，它同时也是window对象的一个属性。Document有下面的特性：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType为9
（2）nodeName为#document
（3）nodeValue为null
（4）parentNode为null
（5）子节点可能是一个DocumentType或Element
</code></pre></div><h2 id="documentfragment类型"><a href="#documentfragment类型" class="header-anchor">#</a> DocumentFragment类型</h2> <p>DocumentFragment是所有节点中唯一一个没有对应标记的类型，它表示一种轻量级的文档，可能当作一个临时的仓库用来保存可能会添加到文档中的节点。DocumentFragment有下面的特性：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）nodeType为11
（2）nodeName为#document-fragment
（3）nodeValue为null
（4）parentNode为null
</code></pre></div><p>我们简单地介绍了几种常见的Node类型，要记住，HTML中的节点并不只是包括元素节点，它还包括文本节点，注释节点等等。在这里我们只是简单地说明了几种常见的节点，想要进一步学习的同学可以查找一下相关资料。</p> <h2 id="节点创建型api"><a href="#节点创建型api" class="header-anchor">#</a> 节点创建型api</h2> <p>在这里，我将常用的DOM操作api进行分类，首先要介绍的是创建型的api。这一类型的api，简而言之就是用来创建节点的。</p> <h2 id="createelement"><a href="#createelement" class="header-anchor">#</a> createElement</h2> <p>createElement通过传入指定的一个标签名来创建一个元素，如果传入的标签名是一个未知的，则会创建一个自定义的标签，注意：IE8以下浏览器不支持自定义标签。</p> <p>使用如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用createElement要注意：通过createElement创建的元素并不属于html文档，它只是创建出来，并未添加到html文档中，要调用appendChild或insertBefore等方法将其添加到HTML文档树中。</p> <h2 id="createtextnode"><a href="#createtextnode" class="header-anchor">#</a> createTextNode</h2> <p>createTextNode用来创建一个文本节点，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> textNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;一个TextNode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>createTextNode接收一个参数，这个参数就是文本节点中的文本，和createElement一样，创建后的文本节点也只是独立的一个节点，同样需要appendChild将其添加到HTML文档树中</p> <h2 id="clonenode"><a href="#clonenode" class="header-anchor">#</a> cloneNode</h2> <p>cloneNode是用来返回调用方法的节点的一个副本，它接收一个bool参数，用来表示是否复制子元素，使用如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parentElement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> parent2 <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 传入true</span>
parent2<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;parent2&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>这段代码通过cloneNode复制了一份parent元素，其中cloneNode的参数为true，表示parent的子节点也被复制，如果传入false，则表示只复制了parent节点。</p> <p>我们看看<a href="http://runjs.cn/detail/s2yelqet" target="_blank" rel="noopener noreferrer">这个例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    我是父元素的文本
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>
        我是子元素
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnCopy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>复制<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnCopy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> parent2 <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parent2<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;parent2&quot;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>parent2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这段代码很简单，主要是绑定button事件，事件内容是复制了一个parent，修改其id，然后添加到文档中。</p> <p>这里有几点要注意：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）和createElement一样，cloneNode创建的节点只是游离有html文档外的节点，要调用appendChild方法才能添加到文档树中
（2）如果复制的元素有id，则其副本同样会包含该id，由于id具有唯一性，所以在复制节点后必须要修改其id
（3）调用接收的bool参数最好传入，如果不传入该参数，不同浏览器对其默认值的处理可能不同
</code></pre></div><p>除此之外，我们还有一个需要注意的点：如果被复制的节点绑定了事件，则副本也会跟着绑定该事件吗？</p> <p>这里要分情况讨论：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）如果是通过addEventListener或者比如onclick进行绑定事件，则副本节点不会绑定该事件
（2）如果是内联方式绑定比如
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div onclick<span class="token operator">=</span><span class="token string">&quot;showParent()&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>这样的话，副本节点同样会触发事件。</p> <h2 id="createdocumentfragment"><a href="#createdocumentfragment" class="header-anchor">#</a> createDocumentFragment</h2> <p><code>createDocumentFragment</code>方法用来创建一个<code>DocumentFragment</code>。在前面我们说到<code>DocumentFragment</code>表示一种轻量级的文档，它的作用主要是存储临时的节点用来准备添加到文档中。</p> <p><code>createDocumentFragment</code>方法主要是用于添加大量节点到文档中时会使用到。假设要循环一组数据，然后创建多个节点添加到文档中，比如<a href="http://runjs.cn/detail/nu4wptvl" target="_blank" rel="noopener noreferrer">示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>添加多项<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnAdd<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnAdd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> i<span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这段代码将按钮绑定了一个事件，这个事件创建了100个li节点，然后依次将其添加HTML文档中。这样做有一个缺点：每次一创建一个新的元素，然后添加到文档树中，这个过程会造成浏览器的回流。所谓回流简单说就是指元素大小和位置会被重新计算，如果添加的元素太多，会造成性能问题。这个时候，就是使用<code>createDocumentFragment</code>了。</p> <p>DocumentFragment不是文档树的一部分，它是保存在内存中的，所以不会造成回流问题。我们修改上面的代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnAdd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">var</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> i<span class="token punctuation">;</span>
        fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    list<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>优化后的代码主要是创建了一个fragment，每次生成的li节点先添加到fragment，最后一次性添加到list，大家可以看<a href="http://runjs.cn/detail/nu4wptvl" target="_blank" rel="noopener noreferrer">示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="创建型api总结"><a href="#创建型api总结" class="header-anchor">#</a> 创建型API总结</h2> <p>创建型api主要包括<code>createElement</code>，<code>createTextNode</code>，<code>cloneNode</code>和<code>createDocumentFragment</code>四个方法，需要注意下面几点：</p> <div class="language-text extra-class"><pre class="language-text"><code>（1）它们创建的节点只是一个孤立的节点，要通过`appendChild`添加到文档中
（2）`cloneNode`要注意如果被复制的节点是否包含子节点以及事件绑定等问题
（3）使用`createDocumentFragment`来解决添加大量节点时的性能问题
</code></pre></div><h2 id="页面修改型api"><a href="#页面修改型api" class="header-anchor">#</a> 页面修改型API</h2> <p>前面我们提到创建型api，它们只是创建节点，并没有真正修改到页面内容，而是要调用appendChild来将其添加到文档树中。我在这里将这类会修改到页面内容归为一类。</p> <p>修改页面内容的api主要包括：<code>appendChild</code>，<code>insertBefore</code>，<code>removeChild</code>，<code>replaceChild</code>。</p> <h2 id="appendchild"><a href="#appendchild" class="header-anchor">#</a> appendChild</h2> <p>appendChild我们在前面已经用到多次，就是将指定的节点添加到调用该方法的节点的子元素的末尾。调用方法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>child节点将会作为parent节点的最后一个子节点。</p> <p><code>appendChild</code>这个方法很简单，但是还有有一点需要注意：如果被添加的节点是一个页面中存在的节点，则执行后这个节点将会添加到指定位置，其原本所在的位置将移除该节点，也就是说不会同时存在两个该节点在页面上，相当于把这个节点移动到另一个地方。我们来看<a href="http://runjs.cn/detail/kk3bodpw" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    要被添加的节点
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    要移动的位置
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>      
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnMove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>移动节点<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnMove&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这段代码主要是获取页面上的child节点，然后添加到指定位置，可以看到原本的child节点被移动到parent中了。</p> <p>这里还有一个要注意的点：如果child绑定了事件，被移动时，它依然绑定着该事件。</p> <h2 id="insertbefore"><a href="#insertbefore" class="header-anchor">#</a> insertBefore</h2> <p>insertBefore用来添加一个节点到一个参照节点之前，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>refNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>parentNode表示新节点被添加后的父节点</li> <li>newNode表示要添加的节点</li> <li>refNode表示参照节点，新节点会添加到这个节点之前</li></ul> <p>我们来看这个<a href="http://runjs.cn/detail/p2rs1tmy" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    父节点
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>                
        子元素
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertNode<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>插入节点<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;insertNode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> newNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newNode<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;新节点&quot;</span>
    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这段代码创建了一个新节点，然后添加到child节点之前。
和appendChild一样，如果插入的节点是页面上的节点，则会移动该节点到指定位置，并且保留其绑定的事件。</p> <p>关于第二个参数参照节点还有几个注意的地方：</p> <p>（1）refNode是必传的，如果不传该参数会报错
（2）如果refNode是undefined或null，则insertBefore会将节点添加到子元素的末尾</p> <h2 id="removechild"><a href="#removechild" class="header-anchor">#</a> removeChild</h2> <p>removeChild顾名思义，就是删除指定的子节点并返回，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> deletedChild <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>deletedChild指向被删除节点的引用，它等于node，被删除的节点仍然存在于内存中，可以对其进行下一步操作。</p> <p>注意：如果被删除的节点不是其子节点，则程序将会报错。我们可以通过下面的方式来确保可以删除：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>通过节点自己获取节点的父节点，然后将自身删除。</p> <h2 id="replacechild"><a href="#replacechild" class="header-anchor">#</a> replaceChild</h2> <p>replaceChild用于使用一个节点替换另一个节点，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newChild<span class="token punctuation">,</span>oldChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>newChild是替换的节点，可以是新的节点，也可以是页面上的节点，如果是页面上的节点，则其将被转移到新的位置
，oldChild是被替换的节点。</p> <h2 id="页面修改型api总结"><a href="#页面修改型api总结" class="header-anchor">#</a> 页面修改型API总结</h2> <p>页面修改型api主要是这四个接口，要注意几个特点：</p> <p>（1）不管是新增还是替换节点，如果新增或替换的节点是原本存在页面上的，则其原来位置的节点将被移除，也就是说同一个节点不能存在于页面的多个位置
（2）节点本身绑定的事件会不会消失，会一直保留着。</p> <h2 id="节点查询型api"><a href="#节点查询型api" class="header-anchor">#</a> 节点查询型API</h2> <p>节点查询型API也是非常常用的api，下面我们分别说明一下每一个api的使用。</p> <h2 id="document-getelementbyid"><a href="#document-getelementbyid" class="header-anchor">#</a> document.getElementById</h2> <p>这个接口很简单，根据元素id返回元素，返回值是Element类型，如果不存在该元素，则返回null。
使用这个接口有几点要注意：</p> <p>（1）元素的Id是大小写敏感的，一定要写对元素的id
（2）HTML文档中可能存在多个id相同的元素，则返回第一个元素
（3）只从文档中进行搜索元素，如果创建了一个元素并指定id，但并没有添加到文档中，则这个元素是不会被查找到的</p> <h2 id="document-getelementsbytagname"><a href="#document-getelementsbytagname" class="header-anchor">#</a> document.getElementsByTagName</h2> <p>这个接口根据元素标签名获取元素，返回一个即时的HTMLCollection类型，什么是即时的HTMLCollection类型呢？我们来看看这个<a href="http://runjs.cn/detail/13jvrs9t" target="_blank" rel="noopener noreferrer">示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>div1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>div2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>显示数量<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnShowCount<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>新增div<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnAddDiv<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">var</span> divList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnAddDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    div<span class="token punctuation">.</span>textContent <span class="token operator">=</span><span class="token string">&quot;div&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>divList<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnShowCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>divList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这段代码中有两个按钮，一个按钮是显示HTMLCollection元素的个数，另一个按钮可以新增一个div标签到文档中。前面提到HTMLCollcetion元素是即时的表示该集合是随时变化的，也就是是文档中有几个div，它会随时进行变化，当我们新增一个div后，再访问HTMLCollection时，就会包含这个新增的div。</p> <p>使用<code>document.getElementsByTagName</code>这个方法有几点要注意：</p> <ul><li>（1）如果要对HTMLCollection集合进行循环操作，最好将其长度缓存起来，因为每次循环都会去计算长度，暂时缓存起来可以提高效率</li> <li>（2）如果没有存在指定的标签，该接口返回的不是null，而是一个空的HTMLCollection</li> <li>（3）“*”表示所有标签</li></ul> <h2 id="document-getelementsbyname"><a href="#document-getelementsbyname" class="header-anchor">#</a> document.getElementsByName</h2> <p>getElementsByName主要是通过指定的name属性来获取元素，它返回一个即时的NodeList对象。
使用这个接口主要要注意几点：</p> <ul><li>（1）返回对象是一个即时的NodeList，它是随时变化的</li> <li>（2）在HTML元素中，并不是所有元素都有name属性，比如div是没有name属性的，但是如果强制设置div的name属性，它也是可以被查找到的</li> <li>（3）在IE中，如果id设置成某个值，然后传入<code>getElementsByName</code>的参数值和id值一样，则这个元素是会被找到的，所以最好不好设置同样的值给id和name</li></ul> <h2 id="document-getelementsbyclassname"><a href="#document-getelementsbyclassname" class="header-anchor">#</a> document.getElementsByClassName</h2> <p>这个API是根据元素的class返回一个即时的HTMLCollection，用法如下</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个接口有下面几点要注意：</p> <p>（1）返回结果是一个即时的HTMLCollection，会随时根据文档结构变化
（2）IE9以下浏览器不支持
（3）如果要获取2个以上classname，可传入多个classname，每个用空格相隔，例如</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;test1 test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="document-queryselector和document-queryselectorall"><a href="#document-queryselector和document-queryselectorall" class="header-anchor">#</a> document.querySelector和document.querySelectorAll</h2> <p>这两个api很相似，通过css选择器来查找元素，注意选择器要符合CSS选择器的规则。</p> <p>首先来介绍一下<code>document.querySelector</code>。</p> <p><code>document.querySelector</code>返回第一个匹配的元素，如果没有匹配的元素，则返回null。
注意，由于返回的是第一个匹配的元素，这个api使用的深度优先搜索来获取元素。我们来看这个<a href="http://runjs.cn/detail/dl1uvbtq" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第三级的span<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>          
    同级的第二个div
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnGet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>获取test元素<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnGet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这个例子很简单，就是两个class都包含“test”的元素，一个在文档树的前面，但是它在第三级，另一个在文档树的后面，但它在第一级，通过<code>querySelector</code>获取元素时，它通过深度优先搜索，拿到文档树前面的第三级的元素。</p> <p><code>document.querySelectorAll</code>的不同之处在于它返回的是所有匹配的元素，而且可以匹配多个选择符，我们来看看下面这个<a href="http://runjs.cn/detail/egu0tjoj" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    class为test
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    id为test
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnShow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>显示内容<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnShow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;#test,.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>length <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这段代码通过querySelectorAll，使用id选择器和class选择器选择了两个元素，并依次输出其内容。要注意两点：</p> <ul><li>（1）querySelectorAll也是通过深度优先搜索，搜索的元素顺序和选择器的顺序无关</li> <li>（2）返回的是一个非即时的NodeList，也就是说结果不会随着文档树的变化而变化</li></ul> <p>兼容性问题：querySelector和querySelectorAll在ie8以下的浏览器不支持。</p> <h2 id="节点关系型api"><a href="#节点关系型api" class="header-anchor">#</a> 节点关系型api</h2> <p>在html文档中的每个节点之间的关系都可以看成是家谱关系，包含父子关系，兄弟关系等等，下面我们依次来看看每一种关系。</p> <h2 id="父关系型api"><a href="#父关系型api" class="header-anchor">#</a> 父关系型api</h2> <ul><li>parentNode：每个节点都有一个parentNode属性，它表示元素的父节点。Element的父节点可能是Element，Document或DocumentFragment。</li> <li>parentElement：返回元素的父元素节点，与parentNode的区别在于，其父节点必须是一个Element，如果不是，则返回null</li></ul> <h2 id="兄弟关系型api"><a href="#兄弟关系型api" class="header-anchor">#</a> 兄弟关系型api</h2> <ul><li>previousSibling：节点的前一个节点，如果该节点是第一个节点，则为null。注意有可能拿到的节点是文本节点或注释节点，与预期的不符，要进行处理一下。</li> <li>previousElementSibling：返回前一个元素节点，前一个节点必须是Element，注意IE9以下浏览器不支持。</li> <li>nextSibling：节点的后一个节点，如果该节点是最后一个节点，则为null。注意有可能拿到的节点是文本节点，与预期的不符，要进行处理一下。</li> <li>nextElementSibling：返回后一个元素节点，后一个节点必须是Element，注意IE9以下浏览器不支持。</li></ul> <h2 id="子关系型api"><a href="#子关系型api" class="header-anchor">#</a> 子关系型api</h2> <ul><li>childNodes：返回一个即时的NodeList，表示元素的子节点列表，子节点可能会包含文本节点，注释节点等。</li> <li>children：一个即时的HTMLCollection，子节点都是Element，IE9以下浏览器不支持。</li> <li>firstNode：第一个子节点</li> <li>lastNode：最后一个子节点</li> <li>hasChildNodes方法：可以用来判断是否包含子节点。</li></ul> <h2 id="元素属性型api"><a href="#元素属性型api" class="header-anchor">#</a> 元素属性型api</h2> <h2 id="setattribute"><a href="#setattribute" class="header-anchor">#</a> setAttribute</h2> <p>setAttribute：根据名称和值修改元素的特性，用法如下。</p> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其中name是特性名，value是特性值。如果元素不包含该特性，则会创建该特性并赋值。
如果元素本身包含指定的特性名为属性，则可以世界访问属性进行赋值，比如下面两条代码是等价的：</p> <div class="language-js extra-class"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="getattribute"><a href="#getattribute" class="header-anchor">#</a> getAttribute</h2> <p>getAttribute返回指定的特性名相应的特性值，如果不存在，则返回null或空字符串。用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> value <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="元素样式型api"><a href="#元素样式型api" class="header-anchor">#</a> 元素样式型api</h2> <h2 id="window-getcomputedstyle"><a href="#window-getcomputedstyle" class="header-anchor">#</a> window.getComputedStyle</h2> <p><code>window.getComputedStyle</code>是用来获取应用到元素后的样式，假设某个元素并未设置高度而是通过其内容将其高度撑开，这时候要获取它的高度就要用到<code>getComputedStyle</code>，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> style <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">[</span><span class="token punctuation">,</span> pseudoElt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>element是要获取的元素，pseudoElt指定一个伪元素进行匹配。
返回的style是一个CSSStyleDeclaration对象。
通过style可以访问到元素计算后的样式</p> <h2 id="getboundingclientrect"><a href="#getboundingclientrect" class="header-anchor">#</a> getBoundingClientRect</h2> <p>getBoundingClientRect用来返回元素的大小以及相对于浏览器可视窗口的位置，用法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> clientRect <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>clientRect是一个DOMRect对象，包含left，top，right，bottom，它是相对于可视窗口的距离，滚动位置发生改变时，它们的值是会发生变化的。除了IE9以下浏览器，还包含元素的height和width等数据，具体可查看链接</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本文主要总结了原生js中常用的操作DOM的api接口，主要为了复习基础知识。平时开发用多了jQuery等类库，对基础知识的了解可能就渐渐地遗忘，但这些基础知识才是我们立足的根本，只有掌握原生的js，才能真正做好js的开发。</p> <p><a href="https://www.imooc.com/article/2562" target="_blank" rel="noopener noreferrer">原文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>原文地址：http://luopq.com/2015/11/30/javascript-dom/</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/1/2021, 10:20:10 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/JS/DOM/Event.html" class="prev">
        Event 对象
      </a></span> <span class="next"><a href="/JS/DOM/operateDOM.html">
        操作DOM的众说纷纭
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.53023ef6.js" defer></script><script src="/assets/js/2.4cb4eaec.js" defer></script><script src="/assets/js/96.aa0512c6.js" defer></script>
  </body>
</html>
