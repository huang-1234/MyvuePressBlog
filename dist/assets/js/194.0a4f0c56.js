(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{710:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"mysql语句大全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql语句大全"}},[t._v("#")]),t._v(" mysql语句大全")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#登录数据库\nmysql -hlocalhost -uroot -p;\n#修改密码\nmysqladmin -uroot -pold password new;\n\n\n#显示数据库\nshow databases;\n#显示数据表\nshow tables;\n#选择数据库\nuse examples;\n#创建数据库并设置编码utf-8 多语言\ncreate database `examples` default character set utf8 collate utf8_general_ci;\n#删除数据库\ndrop database examples;\n#创建表\ncreate table test(\n    id int(10) unsigned zerofill not null auto_increment,\n    email varchar(40) not null,\n    ip varchar(15) not null,\n    state int(10) not null default '-1',\n    primary key (id)\n)engine=InnoDB;\n#显示表结构\ndescribe \n#删除表\ndrop table test；\n#重命名表\nalter table test_old rename test_new;\n#添加列\nalter table test add cn int(4) not null;\n#修改列\nalter table test change id id1 varchar(10) not null;\n#删除列 \nalter table test drop cn;\n#创建索引\nalter table test add index (cn,id);\n#删除索引\nalter table test drop index cn\n#插入数据\ninsert into test (id,email,ip,state) values(2,'qq@qq.com','127.0.0.1','0');\n#删除数据 \ndelete from test where id = 1;\n#修改数据\nupdate test set id='1',email='q@qq.com' where id=1;\n#查数据\nselect * from test;  #取所有数据\nselect * from test limit 0,2;  #取前两条数据 \nselect * from test email like '%qq%' #查含有qq字符 _表示一个 %表示多个\nselect * from test order by id asc;#降序desc\nselect * from test id not in('2','3');#id不含2,3或者去掉not表示含有\nselect * from test timer between 1 and 10;#数据在1,10之间\n\n#---------------------------表连接知识------------------------------\n#等值连接又叫内链接 inner join 只返回两个表中连接字段相等的行\nselect * from A inner join B on A.id = B.id; #写法1\nselect * from A,B where A.id = B.id; #写法2\nselect a.id,a.title from A a inner join B b on a.id=b.id and a.id=1;#写法3 表的临时名称\nselect a.id as ID,a.title as 标题 from A inner join B on A.id=B.id;#添加as字句\n\n#左连接又叫外连接 left join 返回左表中所有记录和右表中连接字段相等的记录\nselect * from A left join B on A.id = B.id;\n\nselect * from A left join (B,C,D) on (B.i1=A.i1 and C.i2=A.i2 and D.i3 = A.i3);#复杂连接\n\n#右连接又叫外连接 right join 返回右表中所有记录和左表中连接字段相等的记录\nselect * from A right join B on A.id = B.id;\n\n#完整外部链接 full join 返回左右表中所有数据\nselect * from A full join B on A.id = B.id;\n\n#交叉连接 没有where字句 返回卡迪尔积\nselect * from A cross join B;\n-------------------------表连接结束------------------------------------------------------------\n-----------------索引创建------------------------------------------------\nshow index from A #查看索引\nalter table A add primary key(id) #主键索引\nalter table A add unique(name) #唯一索引\nalter table A add index name(name) #普通索引\nalter table A add fulltext(name) #全文索引\nalter table A add index name(id,name) #多列索引\n\n#常用函数\nabs(-1)#绝对值\npi()#pi值\nsqrt(2)#平方根\nmod(-5,3)#取余-2\nceil(10.6)#进位+1 结果11 ceil(10.0)结果10\nfloor(10.6)#取整 10\nround(2.5)#四舍五入到整数 结果3\nround(2.5,2)#保留两位小数 结果2.50\ntruncate(2.5234,3)#取小数后3位不四舍五入 2.523\nsign(-2);#符号函数 返回-1 0还是0 正数返回1\npow(2,3),exp(2);#2的3次幂 或e的2次幂\nlog(2),log10(2);#求对数\nradians(180),degrees(0.618);#角度弧度转换\nsin(0.5),asin(0.5)#正弦和反正弦 类似cos acos tan atan\nlength('hi')#计算字符长度\nconcat('1',1,'hi')#合并字符串\ninsert('12345',1,0,'7890');#从开头第1个字符开始到0个结束，替换成后边字符串，0表示在最前边插入\nucase('a'),lcase('A')#转成大写和小写\nleft('abcd',2),right('abcd',2);#返回前两个字符和后两个字符\nltrim('  0  '),rtrim(' 0 '),trim('  0  ')#删除空格\nreplace('1234567890','345678','0');#替换输出12090\nsubstring('12345',1,2)#取字符 输出12 1是位置 2是长度\ninstr('1234','234');#取得234位置是2\nreverse('1234');#反序输出4321\ncurrent()#返回日期\ncurtime()#返回时间\nnow()#返回日期时间\nmonth(now())#当前月份 monthname 英文月份\ndayname(now())#星期英文 dayofweek()1是星期天 weekday()1是星期二\nweek(now())#本年第多少周\ndayofyear(now()),dayofmonth(now())#今天是本年第多少天 今天是本月第多少天\nyear(now()),month(now()),day(now()),hour(now()),minute(now()),second(now())#返回年月日 时分秒\ntime_to_sec(now()),sec_to_time(3600*8);#转换时间为秒和还原\nversion()#mysql版本\ndatabase()#当前连接的数据库 没有为null\nuser()#获取用户名\nmd5('a')#加密字符串\nascii('a')#ascii值97\nbin(100),hex(100),oct(100)#返回二进制 十六进制 八进制\nconv(10001,2,8);#各种进制相互转换\nrand()#生成0到1之间随机数\nsleep(0.02)#暂停秒数\n---------------------------------\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("---------------------------------\n")])])]),a("h1",{attrs:{id:"mysql-date-format-函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-date-format-函数"}},[t._v("#")]),t._v(" MySQL DATE_FORMAT() 函数")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.w3school.com.cn/sql/sql_dates.asp",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL Date 函数"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"定义和用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义和用法"}},[t._v("#")]),t._v(" 定义和用法")]),t._v(" "),a("p",[t._v("DATE_FORMAT() 函数用于以不同的格式显示日期/时间数据。")]),t._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DATE_FORMAT(date,format)\n")])])]),a("p",[t._v("参数是合法的日期。 规定日期/时间的输出格式。")]),t._v(" "),a("p",[t._v("可以使用的格式有：")]),t._v(" "),a("p",[t._v("格式 描述")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("%a")]),t._v(" "),a("td",[t._v("缩写星期名")])]),t._v(" "),a("tr",[a("td",[t._v("%b")]),t._v(" "),a("td",[t._v("缩写月名")])]),t._v(" "),a("tr",[a("td",[t._v("%c")]),t._v(" "),a("td",[t._v("月，数值")])]),t._v(" "),a("tr",[a("td",[t._v("%D")]),t._v(" "),a("td",[t._v("带有英文前缀的月中的天")])]),t._v(" "),a("tr",[a("td",[t._v("%d")]),t._v(" "),a("td",[t._v("月的天，数值(00-31)")])]),t._v(" "),a("tr",[a("td",[t._v("%e")]),t._v(" "),a("td",[t._v("月的天，数值(0-31)")])]),t._v(" "),a("tr",[a("td",[t._v("%f")]),t._v(" "),a("td",[t._v("微秒")])]),t._v(" "),a("tr",[a("td",[t._v("%H")]),t._v(" "),a("td",[t._v("小时 (00-23)")])]),t._v(" "),a("tr",[a("td",[t._v("%h")]),t._v(" "),a("td",[t._v("小时 (01-12)")])]),t._v(" "),a("tr",[a("td",[t._v("%I")]),t._v(" "),a("td",[t._v("小时 (01-12)")])]),t._v(" "),a("tr",[a("td",[t._v("%i")]),t._v(" "),a("td",[t._v("分钟，数值(00-59)")])]),t._v(" "),a("tr",[a("td",[t._v("%j")]),t._v(" "),a("td",[t._v("年的天 (001-366)")])]),t._v(" "),a("tr",[a("td",[t._v("%k")]),t._v(" "),a("td",[t._v("小时 (0-23)")])]),t._v(" "),a("tr",[a("td",[t._v("%l")]),t._v(" "),a("td",[t._v("小时 (1-12)")])]),t._v(" "),a("tr",[a("td",[t._v("%M")]),t._v(" "),a("td",[t._v("月名")])]),t._v(" "),a("tr",[a("td",[t._v("%m")]),t._v(" "),a("td",[t._v("月，数值(00-12)")])]),t._v(" "),a("tr",[a("td",[t._v("%p")]),t._v(" "),a("td",[t._v("AM 或 PM")])]),t._v(" "),a("tr",[a("td",[t._v("%r")]),t._v(" "),a("td",[t._v("时间，12-小时（hh:mm:ss AM 或 PM）")])]),t._v(" "),a("tr",[a("td",[t._v("%S")]),t._v(" "),a("td",[t._v("秒(00-59)")])]),t._v(" "),a("tr",[a("td",[t._v("%s")]),t._v(" "),a("td",[t._v("秒(00-59)")])]),t._v(" "),a("tr",[a("td",[t._v("%T")]),t._v(" "),a("td",[t._v("时间, 24-小时 (hh:mm:ss)")])]),t._v(" "),a("tr",[a("td",[t._v("%U")]),t._v(" "),a("td",[t._v("周 (00-53) 星期日是一周的第一天")])]),t._v(" "),a("tr",[a("td",[t._v("%u")]),t._v(" "),a("td",[t._v("周 (00-53) 星期一是一周的第一天")])]),t._v(" "),a("tr",[a("td",[t._v("%V")]),t._v(" "),a("td",[t._v("周 (01-53) 星期日是一周的第一天，与 %X 使用")])]),t._v(" "),a("tr",[a("td",[t._v("%v")]),t._v(" "),a("td",[t._v("周 (01-53) 星期一是一周的第一天，与 %x 使用")])]),t._v(" "),a("tr",[a("td",[t._v("%W")]),t._v(" "),a("td",[t._v("星期名")])]),t._v(" "),a("tr",[a("td",[t._v("%w")]),t._v(" "),a("td",[t._v("周的天 （0=星期日, 6=星期六）")])]),t._v(" "),a("tr",[a("td",[t._v("%X")]),t._v(" "),a("td",[t._v("年，其中的星期日是周的第一天，4 位，与 %V 使用")])]),t._v(" "),a("tr",[a("td",[t._v("%x")]),t._v(" "),a("td",[t._v("年，其中的星期一是周的第一天，4 位，与 %v 使用")])]),t._v(" "),a("tr",[a("td",[t._v("%Y")]),t._v(" "),a("td",[t._v("年，4 位")])]),t._v(" "),a("tr",[a("td",[t._v("%y")]),t._v(" "),a("td",[t._v("年，2 位")])])])]),t._v(" "),a("h2",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("p",[t._v("下面的脚本使用 DATE_FORMAT() 函数来显示不同的格式。我们使用 NOW() 来获得当前的日期/时间：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("DATE_FORMAT(NOW(),'%b %d %Y %h:%i %p')\nDATE_FORMAT(NOW(),'%m-%d-%Y')\nDATE_FORMAT(NOW(),'%d %b %y')\nDATE_FORMAT(NOW(),'%d %b %Y %T:%f')\n")])])]),a("p",[t._v("结果类似：")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Dec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2008")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v(" PM\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2008")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Dec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Dec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2008")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("46.635")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------")]),t._v("\n数据库优化\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("开启缓存，尽量使用php函数而不是mysql\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("explain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" 语句可以知道性能\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("一行数据使用 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("；\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("为搜索字段重建索引 比如关键字 标签\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v("表连接"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("join")]),t._v("保证字段类型相同并且有其索引\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.")]),t._v("随机查询使用php $r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mysql_query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SELECT count(*) FROM user"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    $d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mysql_fetch_row"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    $rand "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mt_rand"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("$d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    $r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mysql_query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SELECT username FROM user LIMIT $rand, 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.")]),t._v("避免使用"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 应该使用具体字段\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.")]),t._v("每张表都是用id主键，并且是"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.")]),t._v("对于取值有限而固定使用"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v("类型，如性别 国家 名族 部门 状态\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.")]),t._v("尽可能使用"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" ip存储使用"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("使用ip 转化函数ip2long"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("相互long2ip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v("和"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),t._v("语句会锁表，所以可以采用分拆语句操作\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("{操作语句"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("usleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("}\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.")]),t._v("选择正确的存储引擎；MyISAM适合大量查询 写操作多用"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v("支持事务\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#存储过程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#存储程序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delimiter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义存储程序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("procedure")]),t._v(" getversion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("out")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#params是传出参数 in传进 out传出 inout传回")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#版本信息赋值params")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("call")]),t._v(" getversion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#调用存储过程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delimiter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#定义存储函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" display"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("begin")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" concat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" display"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("procedure")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" spName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除一个存储过程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("alter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" spName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#修改一个存储过程")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("procedure")]),t._v(" spName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#显示存储过程信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" varName "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#声明局部变量")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#if语句")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" 条件 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elseif")]),t._v(" 条件 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#case语句")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" 条件\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v(" 条件 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("when")]),t._v(" 条件 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" 语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#loop语句")]),t._v("\nfn:"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("loop")]),t._v("\n语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("loop")]),t._v(" fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("leave")]),t._v(" fn "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#退出循环")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#while语句")]),t._v("\nfn："),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" 条件 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n语句\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" fn\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#mysql使用帮助资料")]),t._v("\n? contents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出帮助类型")]),t._v("\n? "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出数据类型")]),t._v("\n？ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#列出具体类型")]),t._v("\n? "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#show语句")]),t._v("\n? "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#常见表的比较")]),t._v("\n                    Myisam   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BDB")]),t._v("    Memory    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v("    Archive\n存储限制        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("no")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("no")]),t._v("      yes                "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("T        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("no")]),t._v("\n事物安全                      支持                         支持                         \n锁机制         表锁           页锁    表锁             行锁          行锁\n全文索引       支持\n外键支持                                                        支持\nmyisam  frm存储表定义 MYD存储数据 MYI存储索引\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" 用于事务处理\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" 和 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),t._v("保存和索引都不相同\n浮点数"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 定点数"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("decimal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n长度一定下，浮点数表示更大数据范围，缺点是引起精度丢失，货币等使用定点数存储\n        索引适合于"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v("字句或者连接字句列\n        对于唯一值使用唯一索引\n\n添加新用户 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("grant")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" Yoby"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@localhost")]),t._v(" identified "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysql'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#           *.* 数据库名.表名，限制登录某一个数据库 test.*                           localhost是本地主机 网络可以使用 '%'代替所有主机        'mysql'是密码 Yoby是用户名  所有权限可以用 all代替")]),t._v("\n查看用户权限 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" grants "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n移除权限  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("revoke")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@localhost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" id 分组\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("having")]),t._v(" 限制字句\nselect1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" select2 联合查询有重复去掉保留一行\nselect2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("union")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("all")]),t._v(" select2 所有行合并到结果集中去\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--------------------------------------------------------------------")]),t._v("\n修改MYSQL参数\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" variables "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Func%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" log_bin_trust_function_creators"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" variables "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("like")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Func%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);